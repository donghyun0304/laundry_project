<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/common.css">
    <link rel="stylesheet" href="/css/project_footer.css">
    <link rel="stylesheet" href="/css/project_header.css">
    <link rel="stylesheet" href="/css/project_order_1.css">
    <link rel="stylesheet" href="/css/calendar.css">
    <script src="/js/startCalendar.js"></script>
    <script src="/js/endCalendar.js"></script>
    <script src="/js/CalendarHandler.js"></script>
    <title>세탁신청</title>
</head>
<header th:replace="~{/common/project_header :: header}"></header>
<body>
    <div class='container'>
        <form action="#" method="get">
            <h2>옵션</h2>
            <div class='option'>
                <input type="radio" name="option" id="slow" hidden checked>
                <label for="slow" class='slowLabel select1'>
                    <span class='span'>일반세탁</span>
                    <span class='spandetails'>정해진 시간에 배송되요.</span>
                </label>
                <input type="radio" name="option" id="fast" hidden>
                <label for="fast" class='fastLabel'>
                    <span class='span'>빠른세탁</span>
                    <span class='spandetails'>세탁이 완료되면 바로 배송되요.</span>
                </label>
            </div>
            <h2>일정</h2>
            <div class='option'>
                <div class='title'>
                    <h3>수거일</h3>
                    <button type='button'>변경</button>
                </div>
                <input type="hidden" name="takeDate" th:value="${dateTime.pickup}">
                <input type="hidden" name="deliveryDate" th:value="${dateTime.returns}">
                <nav class="subCal_location start">
                    <div class='modal startModal'>
                        <span class='content subCal_span' th:text="'수거 ' + ${dateTime.pickup} + '시 부터'" id='pickup'>s</span>
                    </div>
                    <div class='subCalendar startChild'>
                        <div class='subCal'>
                            <div class='subCalTop'>
                            <span id='subPreBtn'>
                                <svg transform='rotate(180)' xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512">
                                    <path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"/></svg>
                            </span>
                                <div class='yearMonth'>
                                    <span id='subYear'></span>
                                    <span>.</span>
                                    <span id='subMonth'></span>

                                </div>
                                <span id='subNextBtn'>
                                <svg width='0.8rem' xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"/></svg>
                            </span>
                            </div>
                            <ul class='subWeekTitle'>
                                <li class="subCol">일</li>
                                <li class="subCol">월</li>
                                <li class="subCol">화</li>
                                <li class="subCol">수</li>
                                <li class="subCol">목</li>
                                <li class="subCol">금</li>
                                <li class="subCol">토</li>
                            </ul>
                            <ul class='subDays'>

                            </ul>
                        </div>
                    </div>
                </nav>
                <nav class='subCalTime startTime'>
                    <input type="radio" name="subTime" id="T10" value='10'><label for="T10">10:00</label>
                    <input type="radio" name="subTime" id="T23" value='23'><label for="T23">23:00</label>
                </nav>
                <nav class="subCal_location end">
                    <div class='modal endModal'>
                        <span class='content subCal_span' th:text="'배송 ' + ${dateTime.returns} + '시 까지'" id='returns'>asdf</span>
                    </div>
                    <div class='subCalendar endChild'>
                        <div class='subCal'>
                            <div class='subCalTop'>
                            <span id='subPreBtnE' class='subPreBtnEnd'>
                                <svg transform='rotate(180)' xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512">
                                    <path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"/></svg>
                            </span>
                                <div class='yearMonth'>
                                    <span id='subYearEnd'></span>
                                    <span>.</span>
                                    <span id='subMonthEnd'></span>

                                </div>
                                <span id='subNextBtnE' class='subNextBtnEnd'>
                                <svg width='0.8rem' xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"/></svg>
                            </span>
                            </div>
                            <ul class='subWeekTitle'>
                                <li class="subCol">일</li>
                                <li class="subCol">월</li>
                                <li class="subCol">화</li>
                                <li class="subCol">수</li>
                                <li class="subCol">목</li>
                                <li class="subCol">금</li>
                                <li class="subCol">토</li>
                            </ul>
                            <ul class='subDaysEnd'>

                            </ul>
                        </div>
                    </div>
                </nav>
                <nav class='subCalTime endTime'>
                    <input type="radio" name="subTimeEnd" id="E07" value='07'><label for="E07">07:00</label>
                    <input type="radio" name="subTimeEnd" id="E18" value='18'><label for="E18">18:00</label>
                </nav>

            </div>
            <h2>종류</h2>
            <div class='option'>
                <button class='optionbox' type='button' id="dryBtn">
                    <div class='optionbox_title'>
                        <h3>드라이클리닝</h3>
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class='svg'><path d="M256 48a208 208 0 1 1 0 416 208 208 0 1 1 0-416zm0 464A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM369 209c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-111 111-47-47c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l64 64c9.4 9.4 24.6 9.4 33.9 0L369 209z"/></svg>
                    </div>
                    <input type="checkbox" name="service" id="drycleaning" hidden>
                </button>
                <button class='optionbox' type='button' id="commonBtn">
                    <div class='optionbox_title'>
                        <h3>생활빨레</h3>
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class='svg'><path d="M256 48a208 208 0 1 1 0 416 208 208 0 1 1 0-416zm0 464A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM369 209c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-111 111-47-47c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l64 64c9.4 9.4 24.6 9.4 33.9 0L369 209z"/></svg>
                    </div>
                    <input type="checkbox" name="service" id="common_laundry" hidden>
                </button>
                <button class='optionbox' type='button' id="repairBtn">
                    <div class='optionbox_title'>
                        <h3>수선</h3>
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class='svg'><path d="M256 48a208 208 0 1 1 0 416 208 208 0 1 1 0-416zm0 464A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM369 209c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-111 111-47-47c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l64 64c9.4 9.4 24.6 9.4 33.9 0L369 209z"/></svg>
                    </div>
                    <input type="checkbox" name="service" id="sew" hidden>
                </button>
            </div>
            <input type="submit" value="다음">
        </form>
        
    </div>
</body>
<footer th:replace="~{/common/project_footer :: footer}"> </footer>

<script>
    // 일반 세탁, 빠른세탁 선택시 border 변경 로직
    let options = document.querySelectorAll('.option')[0];
    let labels = document.querySelectorAll('.option label');
    options.addEventListener('click', function(event) {

        if (event.target.tagName === 'INPUT' && event.target.type === 'radio') {
            labels.forEach(label => {
                label.classList.remove('select1');
            });
            
            let addLabel = document.querySelector(`label[for="${event.target.id}"]`);
            addLabel.classList.add('select1');
        }
    });

    let checkboxs = document.querySelectorAll('.optionbox input[type=checkbox]');
    let boxs = document.querySelectorAll('.optionbox');

    boxs.forEach(button => {
        button.addEventListener('click', function(event) {

            let inputNode = button.querySelector('input[type="checkbox"]');
            if (inputNode) {
                inputNode.click();
            }

        });
    });

    let drycleaning = document.querySelector('#dryBtn');
    let common = document.querySelector('#commonBtn');
    let repair = document.querySelector('#repairBtn');

    drycleaning.addEventListener('click', function(){
        var options = 'width=600, height=400, top=100, left=100, resizable=yes, scrollbars=yes';
        window.open('/laundry/dry', '_blank')
    })
    common.addEventListener('click', function(){

    })
    repair.addEventListener('click', function(){
        var options = 'width=600, height=400, top=100, left=100, resizable=yes, scrollbars=yes';
        window.open('/laundry/repair', '_blank')
    })
</script>
</html>